# 2022 年终总结

升级为7年+工作经验的程序员。

## 事件总结

经历事件：

* 上海封城2个月
* 公司在大约一年内从约200人扩充到约400人
* 代码重构（全部重新开发）
* 年底完全放开疫情管控
* 年底裁员（暂未涉及自己）

## 关于企业

观点输出一波：

* 对于创业公司来说，老板/高层的决策是往往决定企业生死的关键，而不是中层/基层。
* 企业文化非常重要，不是那些标语，而是一个企业长期以来形成的做事风格、办公氛围、甚至默认的规则。

## 关于技术

这一年继续在golang上耕耘，更多的疑惑是自己写的代码的意义在哪里。

一直坚定坚持的：宁愿花费更多的时间在开发前的理解和思考，也不愿花时间在烦恼的BUG修复上，而前者的收益就是会使后者的时间变的很短，减少紧急加班，提升质量。

我们用了1年+的时间、2倍+的人力，将原先的代码全部抛弃，在不改变产品功能的前提下，进行了重新编写。重构期间原有系统不进行大的功能开发，直至重构完成。

重构原因：新来一枚研发总监，认为是时候重构了。

旧：grpc服务没有使用框架，web服务使用了gin，服务运行在k8s，伪微服务方式。

新：grpc和web服务都使用kratos框架（一个来自bilibili开源的DDD框架）并集成若干开源组件，服务运行在k8s，伪微服务方式。

重构过程中，我们增加和替换了很多组件，包括但不限于网关、监控、日志、配置中心、文档等等，具体不一一表述了。

猜我为什么没有提流量、并发、吞吐、可用率等等指标？这一年，我深刻的认识到[“软件是达到目的的手段”](https://github.com/Dongss/20-things-ive-learned-cn#5-software-is-a-means-to-an-end)，从结果来看，我认为重构的价值是负的，有人戏称我们换了个目录结构重新实现了一遍业务代码，它没有为公司带来任何增长，噢不，成本增长了。

一个企业，在什么阶段、要做什么事情，自己必须要有清醒的认知，尤其创业公司，试错成本很大。更难的是，对未来的短期、中期、长期的预判和规划。当认为不远的将来会有爆发式的业务增长和需求，现有架构将无法支撑，那么重构是合适的，如果对将来加一个期限，我认为是3个月，当然不同行业、业务这个时间节点是不一样的。其他原因的重构，我认为是耍流氓，或者是高层有很大问题。现在想想，那些花费的时间、人力，如果用在做产品上，能做多少东西啊，话说回来，这用来做对的东西才有意义，也难。

我们写代码的目的，不是为了用最新的框架，不是为了100%的单元测试覆盖率，不是为了优雅的最佳实践。

对了，如果问我对DDD的看法，我的回答是：“DDD？什么DDD、BBB的。。”

## 关于裁员

年底这一波大裁员，可谓轰轰烈烈，目之所及，大大小小的公司，其中不乏之前公认的良心厂子。对大多数人来说，被裁了不会很开心，没被裁的也不会很开心。关于赔偿：谈钱莫要谈感情，谈感情莫要谈钱。希望毕业的兄弟们能早日找到如意的工作。

## 关于疫情

我们带上了口罩，于是封住了嘴巴，蒙上了眼睛，再也没有苦难。